<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><meta content=#ffffff name=theme-color><meta content=#da532c name=msapplication-TileColor><link href=/icons/site.webmanifest rel=manifest><link color=#5bbad5 href=/icons/safari-pinned-tab.svg rel=mask-icon><link href=/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/galleria@1.6.1/dist/themes/folio/galleria.folio.min.css integrity=sha384-+rY0QD+LRnTOquDMzGa9lXU6jIwdiQuwCJQ2cdcW0qeP/0UbjQCZlXnRsUMA+9pH rel=stylesheet><link crossorigin=anonymous href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.1/css/academicons.min.css integrity=sha384-FIue+PI4SsI9XfHCz8dBLg33b0c1fMJgNU3X//L26FYbGnlSEfWmNT7zgWc2N9b6 rel=stylesheet><link crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css integrity=sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm rel=stylesheet><link integrity="sha256-rTpdO0HXBCNpreAHcu6tB2Ppg515Vo+5GtYSsnNLz+8="crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css rel=stylesheet><link href=https://azathoth1729.github.io/deep-thought.css rel=stylesheet><title> Azathoth | rust os comp's daily blog </title><link crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs rel=stylesheet><script crossorigin=anonymous defer integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js></script><script crossorigin=anonymous defer integrity=sha384-jiBVvJ8NGGj5n7kJaiWwWp9AjC+Yh8rhZY3GtAX8yU28azcLgoRo4oukO87g7zDT src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mathtex-script-type.min.js></script><script crossorigin=anonymous defer integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js></script><body class=has-background-white><nav aria-label="section navigation" class="navbar is-light"role=navigation><div class=container><div class=navbar-brand><a class="navbar-item is-size-5 has-text-weight-bold"href=https://azathoth1729.github.io>Azathoth</a><a class="navbar-burger burger"aria-expanded=false aria-label=menu data-target=navMenu role=button> <span aria-hidden=true></span> <span aria-hidden=true></span> <span aria-hidden=true></span> </a></div><div class=navbar-menu id=navMenu><div class="navbar-end has-text-centered"><a class="navbar-item has-text-weight-semibold"href=https://azathoth1729.github.io/> Home </a><a class="navbar-item has-text-weight-semibold"href=https://azathoth1729.github.io/posts> Posts </a><a class="navbar-item has-text-weight-semibold"href=https://azathoth1729.github.io/tags> Tags </a><a class="navbar-item has-text-weight-semibold"href=https://azathoth1729.github.io/categories> Categories </a><a class=navbar-item data-target=#search-modal id=nav-search title=Search> <span class=icon> <i class="fas fa-search"></i> </span> </a><a title="Switch to dark theme"class=navbar-item id=dark-mode> <span class=icon> <i class="fas fa-adjust"></i> </span> </a></div></div></div></nav><section class=section><div class=container><div class=columns><div class="column is-8 is-offset-2"><article class=box><h1 class=title>rust os comp's daily blog</h1><p class=subtitle><div class="columns is-multiline is-gapless"><div class="column is-8"><span class="icon-text has-text-grey"> <span class=icon> <i class="fas fa-user"></i> </span> <span>Azathoth published on</span> <span class=icon> <i class="far fa-calendar-alt"></i> </span> <span><time datetime=2022-07-05>July 05, 2022</time></span> </span></div><div class="column is-4 has-text-right-desktop"><span class="icon-text has-text-grey"> <span class=icon> <i class="far fa-clock"></i> </span> <span>5 min,</span> <span class=icon> <i class="fas fa-pencil-alt"></i> </span> <span>838 words</span> </span></div><div class=column><p>Categories: <a class="has-text-info-dark has-text-weight-semibold"href=https://azathoth1729.github.io/categories/blog/> <span class=icon-text> <span class=icon> <i class="fas fa-cube"></i> </span> <span>Blog</span> </span> </a></div><div class="column has-text-right-desktop"><p>Tags: <a class="has-text-info-dark has-text-weight-semibold"href=https://azathoth1729.github.io/tags/os/> <span class=icon-text> <span class=icon> <i class="fas fa-tag"></i> </span> <span>os</span> </span> </a> <a class="has-text-info-dark has-text-weight-semibold"href=https://azathoth1729.github.io/tags/rust/> <span class=icon-text> <span class=icon> <i class="fas fa-tag"></i> </span> <span>rust</span> </span> </a> <a class="has-text-info-dark has-text-weight-semibold"href=https://azathoth1729.github.io/tags/blog/> <span class=icon-text> <span class=icon> <i class="fas fa-tag"></i> </span> <span>blog</span> </span> </a></div></div><div class="content mt-2"><blockquote><p>rust å¥½å¥½å¥½!</blockquote><h1 id=intro>Intro</h1><p>è¿™é‡Œæ˜¯æˆ‘å­¦ä¹ <a href=https://github.com/LearningOS/rust-based-os-comp2022>rust-based-os-comp</a>çš„ä¸€ä¸ªæ—¥å¸¸è®°å½•</p><span id=continue-reading></span><p>æˆ‘çš„ä¸ªäººå®éªŒç¯å¢ƒé…ç½®:<p><img alt=sf src=https://azathoth1729.github.io/posts/rust-os-daily-blog/screenfetch.png><h1 id=blog>Blog</h1><p>ç”±äºæˆ‘çœ‹åˆ°è®­ç»ƒè¥çš„é€šçŸ¥è¾ƒæ™šï¼Œå¯¼è‡´æˆ‘åœ¨æœ€åä¸€å¤©æ‰äº†è§£è¿™ä¸ªé¡¹ç›®ï¼Œåˆå› ä¸ºè¿™å‡ å¤©è¿˜åœ¨å­¦æ ¡å®ä¹ ï¼Œæ‰€ä»¥å¯èƒ½æœ€è¿‘å‡ å¤©è¿›åº¦æ¯”è¾ƒæ…¢.<h2 id=2022-07-05-day-1>2022-07-05 (day 1)</h2><h4 id=task-progress>Task / Progress</h4><ul><li>é…ç½®æœ¬åœ°rustç¯å¢ƒ(ä¹‹å‰å·²ç»é…å¥½)<li>å°è¯• <code>gitclassroom</code>, ä½¿ç”¨ <code>codespace</code> è¿›è¡Œ <code>rustlings</code> çš„è®­ç»ƒ<li><code>rustlings</code>: <ul><li><code>variables</code><li><code>functions</code><li><code>move_semantics</code></ul></ul><h2 id=2022-07-06-day-2>2022-07-06 (day 2)</h2><h4 id=task-progress-1>Task / Progress</h4><ul><li>ç¬¬é›¶ç«  å®éªŒç¯å¢ƒé…ç½®<li>ç¬¬ä¸€ç«  åº”ç”¨ç¨‹åºä¸åŸºæœ¬æ‰§è¡Œç¯å¢ƒ(lab0-0)<li><code>rustlings</code>: <ul><li><code>primitive_types</code><li><code>enums</code><li><code>structs</code></ul></ul><h4 id=shi-yan-huan-jing-pei-zhi>å®éªŒç¯å¢ƒé…ç½®</h4><p><a href=https://learningos.github.io/rust-based-os-comp2022/0setup-devel-env.html>ç¬¬é›¶ç« ï¼šå®éªŒç¯å¢ƒé…ç½®</a><p>ç”±äºæˆ‘ä¹‹å‰æ¥è§¦è¿‡mitçš„ <a href=https://pdos.csail.mit.edu/6.S081/2021/index.html>6.S081</a>, qemuå·²ç»è£…å¥½(<a href=https://pdos.csail.mit.edu/6.S081/2021/tools.html>mit 6.S081çš„å®‰è£…æŒ‡å¼•</a>)<blockquote><p>é€šè¿‡å‘½ä»¤:<code>qemu-riscv64 -version</code>, å¯ä»¥çœ‹å‡º<code>qemu</code>çš„ç‰ˆæœ¬.<p>æ­¤å¤–, æˆ‘ç”¨çš„æ˜¯<code>manjaro</code>(ä¸€ä¸ªåŸºäº<code>arch linux</code>çš„linuxå‘è¡Œç‰ˆ),æ‰€ä»¥<code>qemu</code>ç‰ˆæœ¬è¾ƒæ–°,ç¬¦åˆå®éªŒè¦æ±‚.</blockquote><p>æ ¹æ®æ–‡æ¡£,cloneä»“åº“, è¿è¡Œ<pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#96b5b4;>cd</span><span> os1
</span><span style=color:#bf616a;>LOG</span><span>=</span><span style=color:#a3be8c;>DEBUG </span><span style=color:#bf616a;>make</span><span> run
</span></code></pre><p>æˆåŠŸè·å¾—è¾“å‡º:<p><img alt=test_run src=https://azathoth1729.github.io/posts/rust-os-daily-blog/lab0_test_run.png><h4 id=qa-thinking-reading>QA / Thinking / Reading</h4><ol><li>ä¸ºä»€ä¹ˆ rust çš„ ä¸¤ä¸ªå®: <code>print</code>/<code>pringln</code> ä¸èƒ½è¢«å†™è¿›<code>core</code>è€Œéœ€è¦å†™è¿›<code>std</code></ol><blockquote><p>By default, all Rust crates link the standard library, which depends on the operating system for features such as threads, files, or networking. It also depends on the C standard library libc, which closely interacts with OS services. Since our plan is to write an operating system, we can not use any OS-dependent libraries. So we have to disable the automatic inclusion of the standard library through the no_std attribute.</blockquote><p>ä¸ºäº†æ‰“å°åˆ°æ ‡å‡†è¾“å‡º, éœ€è¦ä¸å†…æ ¸è¿›è¡Œäº¤äº’, å› æ­¤å¿…ç„¶ä¸æ‰€åœ¨å¹³å°æœ‰å…³<ol start=2><li><p>ä¸ºä»€ä¹ˆrustçš„<code>core</code> libararyèƒ½åšåˆ° platform-agnostic.</p><li><p><a href=https://stackoverflow.com/questions/51832396/why-does-rust-have-a-never-primitive-type>Why does Rust have a "Never" primitive type?</a></p><li><p><a href=https://stackoverflow.com/questions/67689613/what-is-a-real-world-example-of-using-a-unit-struct>What is a real world example of using a unit struct?</a></p></ol><h2 id=2022-07-07-day-3>2022-07-07 (day 3)</h2><h4 id=task-progress-2>Task / Progress</h4><ul><li>ç¬¬äºŒç«  æ‰¹å¤„ç†ç³»ç»Ÿ: çœ‹åˆ°æœ€åä¸€èŠ‚<li><code>rustlings</code>: <ul><li><code>collections</code><li><code>error_handling</code><li><code>generics</code><li><code>modules</code><li><code>option</code><li><code>standard_library_types</code><li><code>strings</code><li><code>tests</code><li><code>threads</code><li><code>traits</code></ul></ul><h4 id=qa-thinking-reading-1>QA / Thinking / Reading</h4><ol><li><a href=https://github.com/rust-lang/rfcs/blob/master/text/0195-associated-items.md#summary>rfc of associated items</a><li><a href=https://www.conventionalcommits.org>git conventional commits</a></ol><h2 id=2022-07-08-day-4>2022-07-08 (day 4)</h2><p>rustlingsç»ˆäºå†™å®Œäº†..<p><code>macros</code>è¿™éƒ¨åˆ†çš„ç»ƒä¹ å‡ºçš„æœ‰ç‚¹æ•·è¡ ğŸ˜‚<p>æ„Ÿè§‰è¦çœ‹æ‡‚rCore tutorial, ä¿®æ”¹å®ƒçš„ä»£ç , è¿˜å¾—å­¦ç‚¹ <code>unsafe rust</code>, åªåš <code>rustlings</code> å’Œä¸€äº›å¸¸è§„çš„ç»ƒä¹ æ„Ÿè§‰å®Œå…¨ä¸å¤Ÿå•Š<h4 id=task-progress-3>Task / Progress</h4><ul><li>çœ‹å®Œç¬¬äºŒç« ,å¼€å§‹çœ‹ç¬¬ä¸‰ç« (æ„Ÿè§‰æ±‡ç¼–éƒ¨åˆ†è¿˜æ˜¯æœ‰ç‚¹åƒåŠ›,çœ‹æ¥å¾—å¥½å¥½å­¦ä¸‹riscväº†)<li>çœ‹äº†ä¸‹ <a href=https://os.phil-opp.com>writing an OS in rust</a><li>å®Œæˆ <code>rustlings</code> <img alt=complete_rustlings src=https://azathoth1729.github.io/posts/rust-os-daily-blog/complete_rustlings.png></ul><h4 id=qa-thinking-reading-2>QA / Thinking / Reading</h4><ol><li><a href="https://www.reddit.com/r/rust/comments/47d097/comment/d0d58fv/?utm_source=share&utm_medium=web2x&1.context=3">mut self and self</a><li><a href=https://os.phil-opp.com>writing an OS in rust</a></ol><h2 id=2022-07-09-day-5>2022-07-09 (day 5)</h2><p>ä»Šå¤©ä¸å¤ªæƒ³åšlab...<h4 id=task-progress-4>Task / Progress</h4><ul><li>ç»§ç»­çœ‹ <a href=https://os.phil-opp.com>writing an OS in rust</a><li>çœ‹äº†ä¸€ç‚¹<a href=https://doc.rust-lang.org/nomicon>The Rustonomicon</a></ul><h4 id=qa-thinking-reading-3>QA / Thinking / Reading</h4><ol><li><a href=https://os.phil-opp.com>writing an OS in rust</a><li><a href=https://doc.rust-lang.org/nomicon>The Rustonomicon</a></ol><h2 id=2022-07-10-day-6>2022-07-10 (day 6)</h2><p>ä»Šå¤©å¥½åƒæ²¡å¹²å•¥...<h4 id=task-progress-5>Task / Progress</h4><ul><li>çœ‹äº†ä¸€ä¸‹ <a href=https://rust-unofficial.github.io/too-many-lists>too-many-linked-lists</a></ul><h4 id=qa-thinking-reading-4>QA / Thinking / Reading</h4><h2 id=2022-07-11-day-7>2022-07-11 (day 7)</h2><h2 id=2022-07-12-day-8>2022-07-12 (day 8)</h2><h2 id=2022-07-13-day-9>2022-07-13 (day 9)</h2><h2 id=2022-07-14-day-10>2022-07-14 (day 10)</h2><h2 id=2022-07-15-day-11>2022-07-15 (day 11)</h2><h2 id=2022-07-16-day-12>2022-07-16 (day 12)</h2><h2 id=2022-07-17-day-13>2022-07-17 (day 13)</h2></div></article></div><div class="column is-2 is-hidden-mobile"><aside style="position: sticky; top: 48px"class=menu><p class="heading has-text-weight-bold">Contents<ul class=menu-list><li><a class="toc is-size-7 is-active"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#intro id=link-intro> Intro </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#blog id=link-blog> Blog </a> <ul><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-05-day-1 id=link-2022-07-05-day-1> 2022-07-05 (day 1) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-06-day-2 id=link-2022-07-06-day-2> 2022-07-06 (day 2) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-07-day-3 id=link-2022-07-07-day-3> 2022-07-07 (day 3) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-08-day-4 id=link-2022-07-08-day-4> 2022-07-08 (day 4) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-09-day-5 id=link-2022-07-09-day-5> 2022-07-09 (day 5) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-10-day-6 id=link-2022-07-10-day-6> 2022-07-10 (day 6) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-11-day-7 id=link-2022-07-11-day-7> 2022-07-11 (day 7) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-12-day-8 id=link-2022-07-12-day-8> 2022-07-12 (day 8) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-13-day-9 id=link-2022-07-13-day-9> 2022-07-13 (day 9) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-14-day-10 id=link-2022-07-14-day-10> 2022-07-14 (day 10) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-15-day-11 id=link-2022-07-15-day-11> 2022-07-15 (day 11) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-16-day-12 id=link-2022-07-16-day-12> 2022-07-16 (day 12) </a><li><a class="toc is-size-7"href=https://azathoth1729.github.io/posts/rust-os-daily-blog/#2022-07-17-day-13 id=link-2022-07-17-day-13> 2022-07-17 (day 13) </a></ul></ul></aside></div></div></div></section><section class=modal id=search-modal><div class=modal-background></div><div class=modal-card><header class=modal-card-head><p class=modal-card-title>Search</header><section class=modal-card-body><div class="field mb-2"><div class=control><input placeholder="Search this website."class=input id=search type=search></div></div><div class=search-results><div class=search-results__items></div></div></section></div><button class="modal-close is-large"aria-label=close></button></section><section class=section><div class=container><div class="columns is-centered"><div class="column is-8"><nav class=level><div class="level-item has-text-centered"><a class="button is-black is-outlined"href=https://azathoth1729.github.io/posts/rust-learning-resources/> <span class="icon mr-2"> <i class="fas fa-arrow-circle-left"></i> </span> rust learning resources </a></div></nav></div></div></div></section><footer class="footer py-4"><div class="content has-text-centered"><p>Built with <span class=icon-text> <span class=icon> <i class="fas fa-code"></i> </span> <span>code</span> </span> and <span class=icon-text> <span class=icon> <i class="fas fa-heart"></i> </span> <span>love</span> </span><p>Powered by <span class=icon-text> <span class=icon> <i class="fas fa-power-off"></i> </span> <span>zola</span> </span></div></footer><script crossorigin=anonymous integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK src=https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js></script><script crossorigin=anonymous integrity=sha384-QSfwGT8/EU536DKdtyP2D6SLlh8zBaZ0cVkwfrwhqzIU9VCfJT00CLVP5t+HAiYg src=https://cdn.jsdelivr.net/npm/galleria@1.6.1/dist/galleria.min.js></script><script crossorigin=anonymous integrity=sha384-DwpKI+deZB267+hPKwiOIc5Y2GKsVL0mR6hgz7GgIu7AgAMYqJwcJKY1YBNfhWcY src=https://cdn.jsdelivr.net/npm/galleria@1.6.1/dist/themes/folio/galleria.folio.min.js></script><script crossorigin=anonymous integrity=sha384-0yWn54pSGtfKCU+skfA69l25VsCw+MZt4LQov3xNRoS7YkAMrFokGgSBnAWSK4pv src=https://cdn.jsdelivr.net/npm/mermaid@8.13.5/dist/mermaid.min.js></script><script crossorigin=anonymous integrity=sha384-xC3h1+IHXK8seA+8KfT79Z4e0GPsznjXBoMa5nd8ooWKplPyXx92NOmljWxLC/cs src=https://cdn.jsdelivr.net/npm/chart.xkcd@1.1.13/dist/chart.xkcd.min.js></script><script src=https://azathoth1729.github.io/elasticlunr.min.js></script><script src=https://azathoth1729.github.io/search_index.en.js></script><script src=https://azathoth1729.github.io/js/site.js></script><script>const menuBarHeight = document.querySelector("nav.navbar").clientHeight;
  const tocItems = document.querySelectorAll(".toc");
  const navSections = new Array(tocItems.length);

  tocItems.forEach((el, i) => {
    let id = el.getAttribute("id").substring(5);
    navSections[i] = document.getElementById(id);
  })

  function isVisible(tocIndex) {
    const current = navSections[tocIndex];
    const next = tocIndex < tocItems.length - 1 ? navSections[tocIndex + 1]
      : document.querySelectorAll("section.section").item(1);

    const c = current.getBoundingClientRect();
    const n = next.getBoundingClientRect();
    const h = (window.innerHeight || document.documentElement.clientHeight);

    return (c.top <= h) && (n.top - menuBarHeight >= 0);
  }

  function activateIfVisible() {
    for (b = true, i = 0; i < tocItems.length; i++) {
      if (b && isVisible(i)) {
        tocItems[i].classList.add('is-active');
        b = false;
      } else
        tocItems[i].classList.remove('is-active');
    }
  }

  var isTicking = null;
  window.addEventListener('scroll', () => {
    if (!isTicking) {
      window.requestAnimationFrame(() => {
        activateIfVisible();
        isTicking = false;
      });
      isTicking = true;
    }
  }, false);</script>